Эта версия не идеальна, но она показывает как просто мы можем
контролировать размер занимаемый кэшем, а точнее возложить контроль
на виртуальную машину. Опасность данной реализации заключается
в следующем. В строчке №1 мы делаем проверку на null, фактически
мы хотим проверить, удалил GC данные с памяти или нет. Допустим,
что не удалил. Но перед выполнением строки №2 может начать работу
GC и удалить данные. В таком случае результатом выполнения строчки
№2 будет defaultImage = null. Для безопасной проверки существования
объекта в памяти, нам нужно создать strong-ссылку,
defaultImage = defaultImageRef.get(); Вот как будет
выглядеть финальная реализация: